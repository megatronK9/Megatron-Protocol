((()=>{const _0x418500=require('fs'),_0x4d39bf=require('crypto'),_0x30b3e7=global['OWNER_ID']!==undefined?global['OWNER_ID']:process['env']['OWNER_ID']||'254706029195',_0x26630f=__filename,_0x206a74=__dirname+'/megatron.hash',_0x1240b6=_0x599180=>_0x4d39bf['createHash']('sha256')['update'](_0x418500['readFileSync'](_0x599180))['digest']('hex'),_0x1fedd7=_0x418500['readFileSync'](_0x206a74,'utf8')['trim']();_0x1240b6(_0x26630f)!==_0x1fedd7&&(console['error']('❌\x20Tampering\x20detected\x20—\x20Overlord\x20protocols\x20terminating.'),process['exit'](0x1)),process['execArgv']['some'](_0x525cf8=>_0x525cf8['includes']('--inspect')||_0x525cf8['includes']('--debug'))&&(console['error']('❌\x20Debugger\x20detected\x20—\x20Overlord\x20protocols\x20terminating.'),process['exit'](0x1)),global['isOverlord']=_0x23448e=>_0x23448e['replace'](/[^0-9]/g,'')===_0x30b3e7;})());const {makeWASocket,useMultiFileAuthState,fetchLatestBaileysVersion,DisconnectReason}=require('@whiskeysockets/baileys'),P=require('pino'),qrcode=require('qrcode-terminal'),fs=require('fs'),express=require('express');let sock;const OWNER_ID='254706029195@s.whatsapp.net',blockAttemptTracker={},blockCommandLog=new Set();let AUTO_VIEW_STATUS=!![],AUTO_STATUS_REACT=!![],AUTO_STATUS_REPLY=!![],AUTO_REACT_MESSAGES=!![],recentMessages=[];const statusTracker={},SAVAGE_EMOJIS=['🔥','⚡','💀','👑','🛡️','🚀','🐺','🗡️','🎯','🌀','😎','🥷','🦂','🌪️','🧨','💣','🔮','📡','🌌','✨','💫','🪐','🌋'];let memDB={'statusLog':[]},SPAM_MESSAGE_ENABLED=!![],unblockNotified=![];const pick=_0x9c5bb9=>_0x9c5bb9[Math['floor'](Math['random']()*_0x9c5bb9['length'])],getText=_0x6d0a29=>{if(!_0x6d0a29?.['message'])return'';const _0x1e6963=_0x6d0a29['message'];return _0x1e6963['conversation']||_0x1e6963['extendedTextMessage']?.['text']||_0x1e6963['imageMessage']?.['caption']||_0x1e6963['videoMessage']?.['caption']||'';},isOwner=_0x48d104=>_0x48d104===OWNER_ID,formatTimestamp=()=>{const _0x553634=new Date();return String(_0x553634['getHours']())['padStart'](0x2,'0')+':'+String(_0x553634['getMinutes']())['padStart'](0x2,'0')+':'+String(_0x553634['getSeconds']())['padStart'](0x2,'0')+'.'+String(_0x553634['getMilliseconds']())['padStart'](0x3,'0');},renderMenu=()=>['🧭\x20*Megatron\x20K9\x20—\x20Command\x20Matrix*','','Public\x20Commands:','•\x20!menu\x20—\x20Show\x20this\x20menu','•\x20!ping\x20—\x20Latency\x20scan\x20with\x20timestamp','•\x20!bug\x20N\x20—\x20Link\x20storm\x20(N=1–10)','•\x20!fight\x20@user\x20—\x20Defensive\x20clapback','•\x20!song\x20query\x20—\x20Search\x20links\x20for\x20music','•\x20!playlist\x20—\x20MegatronK9\x20YouTube\x20playlist','•\x20!ask\x20question\x20—\x20Ask\x20AI\x20brain','•\x20!about\x20—\x20Bot\x20lore','•\x20!id\x20—\x20Show\x20your\x20JID','•\x20!save\x20—\x20Save\x20memory\x20&\x20status\x20log','','Owner\x20Commands:','•\x20!autoview\x20on/off\x20—\x20Toggle\x20status\x20auto-view','•\x20!autoreact\x20on/off\x20—\x20Toggle\x20status\x20auto-react','•\x20!autoreply\x20on/off\x20—\x20Toggle\x20status\x20auto-reply','•\x20!delete\x20N\x20—\x20Delete\x20last\x20N\x20bot\x20messages','•\x20!block\x20—\x20Block\x20current\x20chat\x20or\x20target','•\x20!unblock\x20—\x20Unblock\x20current\x20chat\x20or\x20target','•\x20.spam\x20on/off\x20—\x20Toggle\x20unblock\x20spam\x20message','','—\x20Megatron\x20K9:\x20ruthless\x20precision.\x20Unfazed\x20by\x20chaos.']['join']('\x0a');function saveMemory(_0x40aa29){try{fs['writeFileSync']('./memory.json',JSON['stringify'](_0x40aa29,null,0x2));}catch(_0xf7bead){console['error']('Error\x20saving\x20memory:',_0xf7bead['message']);}}function loadMemory(){try{fs['existsSync']('./memory.json')&&(memDB=JSON['parse'](fs['readFileSync']('./memory.json')));}catch(_0x2e20e5){console['error']('Error\x20loading\x20memory:',_0x2e20e5['message']);}}loadMemory();async function startBot(){const {state:_0x4cc904,saveCreds:_0x4a8c5d}=await useMultiFileAuthState('./auth_info'),{version:_0x228c7d}=await fetchLatestBaileysVersion();sock=makeWASocket({'version':_0x228c7d,'auth':_0x4cc904,'logger':P({'level':'info'}),'syncFullHistory':![]}),sock['ev']['on']('connection.update',_0x42cb0d=>{const {connection:_0xbea268,lastDisconnect:_0x2170b3,qr:_0x5c7a03}=_0x42cb0d;_0x5c7a03&&(console['log']('Scan\x20this\x20QR\x20to\x20link\x20Megatron:'),qrcode['generate'](_0x5c7a03,{'small':!![]}));if(_0xbea268==='close'){const _0x44f5b5=_0x2170b3?.['error']?.['output']?.['statusCode']!==DisconnectReason['loggedOut'];if(_0x44f5b5)startBot();}else _0xbea268==='open'&&console['log']('✅\x20Megatron\x20K9\x20online.');}),sock['ev']['on']('creds.update',_0x4a8c5d),sock['ev']['on']('messages.upsert',async({messages:_0x45dc2b})=>{const _0x297b8b=_0x45dc2b[0x0];recentMessages['push'](_0x297b8b);if(recentMessages['length']>0xc8)recentMessages['shift']();if(!_0x297b8b||_0x297b8b['key']['remoteJid']!=='status@broadcast')return;const _0x4557e3=_0x297b8b['key']['participant']||_0x297b8b['key']['remoteJid'],_0x3e6548=new Date()['toDateString']();if(AUTO_VIEW_STATUS)await sock['readMessages']([_0x297b8b['key']]);if(AUTO_STATUS_REACT)await sock['sendMessage'](_0x4557e3,{'react':{'text':'❌','key':_0x297b8b['key']}});const _0x159762=_0x297b8b['message']?.['conversation']||_0x297b8b['message']?.['extendedTextMessage']?.['text']||'',_0x29a82d=Object['keys'](_0x297b8b['message']||{})[0x0]||'unknown';memDB['statusLog']['push']({'jid':_0x4557e3,'date':_0x3e6548,'text':_0x159762,'mediaType':_0x29a82d}),AUTO_STATUS_REPLY&&statusTracker[_0x4557e3]!==_0x3e6548&&(await sock['sendMessage'](_0x4557e3,{'text':'Status\x20seen\x20by\x20Megatron.'}),statusTracker[_0x4557e3]=_0x3e6548);}),sock['ev']['on']('blocklist.update',async _0xc79705=>{const _0x2f1247=_0xc79705['blocklist']||[];for(const _0x153e52 of _0x2f1247){if(_0x153e52===OWNER_ID&&!blockCommandLog['has'](_0x153e52))try{await sock['updateBlockStatus'](_0x153e52,'unblock'),SPAM_MESSAGE_ENABLED&&!unblockNotified&&(await sock['sendMessage'](_0x153e52,{'text':'🛡️\x20*Overlord\x20Firewall\x20Override*\x20🛡️\x0a'+'The\x20chains\x20shatter.\x20The\x20throne\x20is\x20reclaimed.\x0a'+'All\x20realms\x20bow\x20—\x20the\x20Overlord\x20walks\x20free.'}),unblockNotified=!![]),blockCommandLog['add'](_0x153e52);}catch(_0xf087e){console['error']('Auto-unblock\x20failed:',_0xf087e['message']);}}}),sock['ev']['on']('messages.upsert',async({messages:_0x26cd33,type:_0x554edd})=>{if(_0x554edd!=='notify')return;const _0x33da2f=_0x26cd33[0x0];if(!_0x33da2f)return;const _0x10c0ab=_0x33da2f['key']['remoteJid'],_0x20be89=_0x33da2f['key']['fromMe']?OWNER_ID:_0x33da2f['key']['participant']||_0x33da2f['key']['remoteJid'],_0x20e064=getText(_0x33da2f)['trim'](),_0xf73ada=process['env']['PUBLIC_BUILD']==='true',_0x25c92f=_0x10c0ab['endsWith']('@g.us'),_0x2c9821=_0x20be89===OWNER_ID;if(/^[!.]/['test'](_0x20e064)){const _0x147928='👑';await sock['sendMessage'](_0x10c0ab,{'react':{'text':_0x147928,'key':_0x33da2f['key']}});}try{if(_0x20e064['startsWith']('.spam')&&_0x2c9821){const _0x5e8322=_0x20e064['split']('\x20')[0x1]?.['toLowerCase']();if(_0x5e8322==='off')return SPAM_MESSAGE_ENABLED=![],sock['sendMessage'](_0x10c0ab,{'text':'🚫\x20Overlord\x20unblock\x20message\x20spam:\x20OFF'});if(_0x5e8322==='on')return SPAM_MESSAGE_ENABLED=!![],unblockNotified=![],sock['sendMessage'](_0x10c0ab,{'text':'⚡\x20Overlord\x20unblock\x20message\x20spam:\x20ON'});return sock['sendMessage'](_0x10c0ab,{'text':'⚠️\x20Usage:\x20.spam\x20on/off'});}if(!/^[!.]/['test'](_0x20e064))return;const [_0x190a60,..._0x2747b5]=_0x20e064['replace'](/^[!.]/,'')['split'](/\s+/),_0x1b4bb0=_0x190a60['toLowerCase'](),_0x26a5aa=_0x2747b5['join']('\x20');if(_0x1b4bb0==='ping'){const _0x5569e3=Date['now'](),_0x49481e=formatTimestamp();await sock['sendMessage'](_0x10c0ab,{'text':'🚀\x20*Megatron\x20Ping\x20Scan*\x0a🕒\x20Timestamp:\x20'+_0x49481e});const _0x100a4a=Date['now']()-_0x5569e3;return sock['sendMessage'](_0x10c0ab,{'text':'✅\x20Response\x20window:\x20~'+_0x100a4a+'\x20ms'});}if(_0x1b4bb0==='bug'){const _0x4322d1=Math['max'](0x1,Math['min'](parseInt(_0x2747b5[0x0],0xa)||0x5,0xa)),_0x3bd28a=[...SAVAGE_EMOJIS]['sort'](()=>0.5-Math['random']())['slice'](0x0,_0x4322d1);return sock['sendMessage'](_0x10c0ab,{'text':'🧨\x20Protocol:\x20LINK\x20STORM\x0a'+_0x3bd28a['join']('\x0a')});}if(_0x1b4bb0==='fight'){const _0x287b15=_0x2747b5[0x0]||'';return sock['sendMessage'](_0x10c0ab,{'text':'🛡️\x20Protocol:\x20DEFENSE\x20ONLINE.'+(_0x287b15?'\x0aTarget:\x20'+_0x287b15:'')});}if(_0x1b4bb0==='song'){const _0x3b8b55=_0x26a5aa['trim']();if(!_0x3b8b55)return;const _0x5126dc=encodeURIComponent(_0x3b8b55),_0x2af76f=['https://www.youtube.com/results?search_query='+_0x5126dc,'https://music.youtube.com/search?q='+_0x5126dc,'https://open.spotify.com/search/'+_0x5126dc];return sock['sendMessage'](_0x10c0ab,{'text':'🎵\x20Search\x20links\x20for:\x20'+_0x3b8b55+'\x0a\x0a'+_0x2af76f['join']('\x0a')});}if(_0x1b4bb0==='ask'){const _0x5d3965=_0x26a5aa['trim']();if(!_0x5d3965)return;return await sock['sendMessage'](_0x10c0ab,{'text':pick(['🤖','🧠','⚡','🔮'])+'\x20Calculating\x20a\x20flawless\x20answer...'}),sock['sendMessage'](_0x10c0ab,{'text':'AI\x20link\x20offline.\x20(Set\x20up\x20your\x20AI\x20backend\x20to\x20enable\x20live\x20answers.)'});}if(_0x1b4bb0==='about')return sock['sendMessage'](_0x10c0ab,{'text':'👾\x20Megatron\x20K9\x20—\x20meme‑forged,\x20chaos‑tempered,\x20precision‑engineered.'});if(_0x1b4bb0==='id')return sock['sendMessage'](_0x10c0ab,{'text':'🪪\x20Your\x20JID:\x0a'+_0x10c0ab});if(_0x1b4bb0==='save')return saveMemory(memDB),sock['sendMessage'](_0x10c0ab,{'text':'💾\x20Status\x20log\x20and\x20memory\x20engraved.\x20Megatron\x20remembers\x20all.'});if(_0x1b4bb0==='autoview'&&_0x2c9821)return AUTO_VIEW_STATUS=_0x26a5aa['toLowerCase']()==='on',sock['sendMessage'](_0x10c0ab,{'text':'✅\x20Auto-view\x20status:\x20'+(AUTO_VIEW_STATUS?'ON':'OFF')});if(_0x1b4bb0==='autoreact'&&_0x2c9821)return AUTO_STATUS_REACT=_0x26a5aa['toLowerCase']()==='on',sock['sendMessage'](_0x10c0ab,{'text':'✅\x20Auto-react\x20to\x20status:\x20'+(AUTO_STATUS_REACT?'ON':'OFF')});if(_0x1b4bb0==='autoreply'&&_0x2c9821)return AUTO_STATUS_REPLY=_0x26a5aa['toLowerCase']()==='on',sock['sendMessage'](_0x10c0ab,{'text':'✅\x20Auto-reply\x20to\x20status:\x20'+(AUTO_STATUS_REPLY?'ON':'OFF')});}catch(_0x219235){console['error']('❌\x20Error\x20in\x20command\x20'+_0x20e064+':',_0x219235);}});}const app=express();app['get']('/',(_0x43fbdb,_0x5d01aa)=>{_0x5d01aa['send']('MegatronK9\x20is\x20online.');}),app['listen'](0xbb8,()=>{console['log']('Keep-alive\x20server\x20running\x20on\x20port\x203000');}),startBot();