((()=>{const _0x17d6d7=require('fs'),_0x179fdf=require('crypto'),_0x438f46=global['OWNER_ID']!==undefined?global['OWNER_ID']:process['env']['OWNER_ID']||'254706029195',_0x1ba568=__filename,_0x4303d3=__dirname+'/megatron.hash',_0x236537=_0x197912=>_0x179fdf['createHash']('sha256')['update'](_0x17d6d7['readFileSync'](_0x197912))['digest']('hex'),_0x3eba18=_0x17d6d7['readFileSync'](_0x4303d3,'utf8')['trim']();_0x236537(_0x1ba568)!==_0x3eba18&&(console['error']('❌\x20Tampering\x20detected\x20—\x20Overlord\x20protocols\x20terminating.'),process['exit'](0x1)),process['execArgv']['some'](_0x7983e8=>_0x7983e8['includes']('--inspect')||_0x7983e8['includes']('--debug'))&&(console['error']('❌\x20Debugger\x20detected\x20—\x20Overlord\x20protocols\x20terminating.'),process['exit'](0x1)),global['isOverlord']=_0x10557b=>_0x10557b['replace'](/[^0-9]/g,'')===_0x438f46;})());const {makeWASocket,useMultiFileAuthState,fetchLatestBaileysVersion,DisconnectReason}=require('@whiskeysockets/baileys'),P=require('pino'),qrcode=require('qrcode-terminal'),fs=require('fs'),express=require('express');let sock;const OWNER_ID='254706029195@s.whatsapp.net',blockAttemptTracker={},blockCommandLog=new Set();let AUTO_VIEW_STATUS=!![],AUTO_STATUS_REACT=!![],AUTO_STATUS_REPLY=!![],AUTO_REACT_MESSAGES=!![],recentMessages=[];const statusTracker={},SAVAGE_EMOJIS=['🔥','⚡','💀','👑','🛡️','🚀','🐺','🗡️','🎯','🌀','😎','🥷','🦂','🌪️','🧨','💣','🔮','📡','🌌','✨','💫','🪐','🌋'];let memDB={'statusLog':[]},SPAM_MESSAGE_ENABLED=!![],unblockNotified=![];const pick=_0x49f089=>_0x49f089[Math['floor'](Math['random']()*_0x49f089['length'])],getText=_0x3664d4=>{if(!_0x3664d4?.['message'])return'';const _0x22f338=_0x3664d4['message'];return _0x22f338['conversation']||_0x22f338['extendedTextMessage']?.['text']||_0x22f338['imageMessage']?.['caption']||_0x22f338['videoMessage']?.['caption']||'';},isOwner=_0x4a72cd=>_0x4a72cd===OWNER_ID,formatTimestamp=()=>{const _0x5a8963=new Date();return String(_0x5a8963['getHours']())['padStart'](0x2,'0')+':'+String(_0x5a8963['getMinutes']())['padStart'](0x2,'0')+':'+String(_0x5a8963['getSeconds']())['padStart'](0x2,'0')+'.'+String(_0x5a8963['getMilliseconds']())['padStart'](0x3,'0');},renderMenu=()=>['🧭\x20*Megatron\x20K9\x20—\x20Command\x20Matrix*','','Public\x20Commands:','•\x20!menu\x20—\x20Show\x20this\x20menu','•\x20!ping\x20—\x20Latency\x20scan\x20with\x20timestamp','•\x20!bug\x20N\x20—\x20Link\x20storm\x20(N=1–10)','•\x20!fight\x20@user\x20—\x20Defensive\x20clapback','•\x20!song\x20query\x20—\x20Search\x20links\x20for\x20music','•\x20!playlist\x20—\x20MegatronK9\x20YouTube\x20playlist','•\x20!ask\x20question\x20—\x20Ask\x20AI\x20brain','•\x20!about\x20—\x20Bot\x20lore','•\x20!id\x20—\x20Show\x20your\x20JID','•\x20!save\x20—\x20Save\x20memory\x20&\x20status\x20log','•\x20!uptime\x20—\x20Bot\x20uptime','•\x20!status\x20—\x20Show\x20bot\x20status','','Owner\x20Commands:','•\x20!autoview\x20on/off\x20—\x20Toggle\x20status\x20auto-view','•\x20!autoreact\x20on/off\x20—\x20Toggle\x20status\x20auto-react','•\x20!autoreply\x20on/off\x20—\x20Toggle\x20status\x20auto-reply','•\x20!delete\x20N\x20—\x20Delete\x20last\x20N\x20bot\x20messages','•\x20!block\x20—\x20Block\x20current\x20chat\x20or\x20target','•\x20!unblock\x20—\x20Unblock\x20current\x20chat\x20or\x20target','•\x20.spam\x20on/off\x20—\x20Toggle\x20unblock\x20spam\x20message','•\x20!ban\x20/\x20!nuke\x20/\x20!promote\x20/\x20!demote\x20/\x20!shutdown','','—\x20Megatron\x20K9:\x20ruthless\x20precision.\x20Unfazed\x20by\x20chaos.']['join']('\x0a');function saveMemory(_0x35ed94){try{fs['writeFileSync']('./memory.json',JSON['stringify'](_0x35ed94,null,0x2));}catch(_0x109d57){console['error']('Error\x20saving\x20memory:',_0x109d57['message']);}}function loadMemory(){try{fs['existsSync']('./memory.json')&&(memDB=JSON['parse'](fs['readFileSync']('./memory.json')));}catch(_0x45a094){console['error']('Error\x20loading\x20memory:',_0x45a094['message']);}}loadMemory();async function startBot(){const {state:_0xb93484,saveCreds:_0x2e5d22}=await useMultiFileAuthState('./auth_info'),{version:_0x1599bd}=await fetchLatestBaileysVersion();sock=makeWASocket({'version':_0x1599bd,'auth':_0xb93484,'logger':P({'level':'info'}),'syncFullHistory':![]}),sock['ev']['on']('connection.update',_0x354407=>{const {connection:_0x26ea6c,lastDisconnect:_0x481a3a,qr:_0x5582c7}=_0x354407;_0x5582c7&&(console['log']('Scan\x20this\x20QR\x20to\x20link\x20Megatron:'),qrcode['generate'](_0x5582c7,{'small':!![]}));if(_0x26ea6c==='close'){const _0x136400=_0x481a3a?.['error']?.['output']?.['statusCode']!==DisconnectReason['loggedOut'];if(_0x136400)startBot();}else _0x26ea6c==='open'&&console['log']('✅\x20Megatron\x20K9\x20online.');}),sock['ev']['on']('creds.update',_0x2e5d22),sock['ev']['on']('messages.upsert',async({messages:_0x3cbb0f})=>{const _0x5285d6=_0x3cbb0f[0x0];recentMessages['push'](_0x5285d6);if(recentMessages['length']>0xc8)recentMessages['shift']();if(!_0x5285d6||_0x5285d6['key']['remoteJid']!=='status@broadcast')return;const _0x3b669a=_0x5285d6['key']['participant']||_0x5285d6['key']['remoteJid'],_0x5a1615=new Date()['toDateString']();if(AUTO_VIEW_STATUS)await sock['readMessages']([_0x5285d6['key']]);if(AUTO_STATUS_REACT)await sock['sendMessage'](_0x3b669a,{'react':{'text':'❌','key':_0x5285d6['key']}});const _0x43995d=_0x5285d6['message']?.['conversation']||_0x5285d6['message']?.['extendedTextMessage']?.['text']||'',_0x4eaa5e=Object['keys'](_0x5285d6['message']||{})[0x0]||'unknown';memDB['statusLog']['push']({'jid':_0x3b669a,'date':_0x5a1615,'text':_0x43995d,'mediaType':_0x4eaa5e}),AUTO_STATUS_REPLY&&statusTracker[_0x3b669a]!==_0x5a1615&&(await sock['sendMessage'](_0x3b669a,{'text':'Status\x20seen\x20by\x20Megatron.'}),statusTracker[_0x3b669a]=_0x5a1615);}),sock['ev']['on']('blocklist.update',async _0x40f5b4=>{const _0x191a87=_0x40f5b4['blocklist']||[];for(const _0x4c901a of _0x191a87){if(_0x4c901a===OWNER_ID&&!blockCommandLog['has'](_0x4c901a))try{await sock['updateBlockStatus'](_0x4c901a,'unblock'),SPAM_MESSAGE_ENABLED&&!unblockNotified&&(await sock['sendMessage'](_0x4c901a,{'text':'🛡️\x20*Overlord\x20Firewall\x20Override*\x20🛡️\x0a'+'The\x20chains\x20shatter.\x20The\x20throne\x20is\x20reclaimed.\x0a'+'All\x20realms\x20bow\x20—\x20the\x20Overlord\x20walks\x20free.'}),unblockNotified=!![]),blockCommandLog['add'](_0x4c901a);}catch(_0x52f00e){console['error']('Auto-unblock\x20failed:',_0x52f00e['message']);}}}),sock['ev']['on']('messages.upsert',async({messages:_0x2162cc,type:_0x1355f8})=>{if(_0x1355f8!=='notify')return;const _0x59c0b7=_0x2162cc[0x0];if(!_0x59c0b7)return;const _0x311f93=_0x59c0b7['key']['remoteJid'],_0x42f7d5=_0x59c0b7['key']['fromMe']?OWNER_ID:_0x59c0b7['key']['participant']||_0x59c0b7['key']['remoteJid'],_0x46b3ed=getText(_0x59c0b7)['trim'](),_0x45968a=process['env']['PUBLIC_BUILD']==='true',_0x6ac381=_0x311f93['endsWith']('@g.us'),_0x311a9c=_0x42f7d5===OWNER_ID;/^[!.]/['test'](_0x46b3ed)&&await sock['sendMessage'](_0x311f93,{'react':{'text':'👑','key':_0x59c0b7['key']}});try{if(_0x46b3ed['startsWith']('.spam')&&_0x311a9c){const _0x4a509a=_0x46b3ed['split']('\x20')[0x1]?.['toLowerCase']();if(_0x4a509a==='off')return SPAM_MESSAGE_ENABLED=![],sock['sendMessage'](_0x311f93,{'text':'🚫\x20Overlord\x20unblock\x20message\x20spam:\x20OFF'});if(_0x4a509a==='on')return SPAM_MESSAGE_ENABLED=!![],unblockNotified=![],sock['sendMessage'](_0x311f93,{'text':'⚡\x20Overlord\x20unblock\x20message\x20spam:\x20ON'});return sock['sendMessage'](_0x311f93,{'text':'⚠️\x20Usage:\x20.spam\x20on/off'});}if(!/^[!.]/['test'](_0x46b3ed))return;const [_0x2ef79c,..._0x189aa7]=_0x46b3ed['replace'](/^[!.]/,'')['split'](/\s+/),_0x2fff6a=_0x2ef79c['toLowerCase'](),_0x2dc4a7=_0x189aa7['join']('\x20');if(_0x2fff6a==='ping'){const _0x38658f=Date['now'](),_0x4d65a6=formatTimestamp();await sock['sendMessage'](_0x311f93,{'text':'🚀\x20*Megatron\x20Ping\x20Scan*\x0a🕒\x20Timestamp:\x20'+_0x4d65a6});const _0x3fb79a=Date['now']()-_0x38658f;return sock['sendMessage'](_0x311f93,{'text':'✅\x20Response\x20window:\x20~'+_0x3fb79a+'\x20ms'});}if(_0x2fff6a==='help'||_0x2fff6a==='menu')return sock['sendMessage'](_0x311f93,{'text':renderMenu()});if(_0x2fff6a==='bug'){const _0x23bfa0=Math['max'](0x1,Math['min'](parseInt(_0x189aa7[0x0],0xa)||0x5,0xa)),_0x181ee7=[...SAVAGE_EMOJIS]['sort'](()=>0.5-Math['random']())['slice'](0x0,_0x23bfa0);return sock['sendMessage'](_0x311f93,{'text':'🧨\x20Protocol:\x20LINK\x20STORM\x0a'+_0x181ee7['join']('\x0a')});}if(_0x2fff6a==='fight'){const _0xfa45d5=_0x189aa7[0x0]||'';return sock['sendMessage'](_0x311f93,{'text':'🛡️\x20Protocol:\x20DEFENSE\x20ONLINE.'+(_0xfa45d5?'\x0aTarget:\x20'+_0xfa45d5:'')});}if(_0x2fff6a==='song'){const _0x4eca7c=_0x2dc4a7['trim']();if(!_0x4eca7c)return;const _0x422271=encodeURIComponent(_0x4eca7c),_0x2a9dfb=['https://www.youtube.com/results?search_query='+_0x422271,'https://music.youtube.com/search?q='+_0x422271,'https://open.spotify.com/search/'+_0x422271];return sock['sendMessage'](_0x311f93,{'text':'🎵\x20Search\x20links\x20for:\x20'+_0x4eca7c+'\x0a\x0a'+_0x2a9dfb['join']('\x0a')});}if(_0x2fff6a==='ask'){const _0x26cd06=_0x2dc4a7['trim']();if(!_0x26cd06)return;return await sock['sendMessage'](_0x311f93,{'text':pick(['🤖','🧠','⚡','🔮'])+'\x20Calculating\x20a\x20flawless\x20answer...'}),sock['sendMessage'](_0x311f93,{'text':'AI\x20link\x20offline.\x20(Set\x20up\x20your\x20AI\x20backend\x20to\x20enable\x20live\x20answers.)'});}if(_0x2fff6a==='about')return sock['sendMessage'](_0x311f93,{'text':'👾\x20Megatron\x20K9\x20—\x20meme‑forged,\x20chaos‑tempered,\x20precision‑engineered.'});if(_0x2fff6a==='id')return sock['sendMessage'](_0x311f93,{'text':'🪪\x20Your\x20JID:\x0a'+_0x311f93});if(_0x2fff6a==='save')return saveMemory(memDB),sock['sendMessage'](_0x311f93,{'text':'💾\x20Status\x20log\x20and\x20memory\x20engraved.\x20Megatron\x20remembers\x20all.'});if(_0x2fff6a==='uptime'){const _0x15aebd=process['uptime'](),_0x47e329=Math['floor'](_0x15aebd/0xe10),_0x26684c=Math['floor'](_0x15aebd%0xe10/0x3c),_0x440918=Math['floor'](_0x15aebd%0x3c);return sock['sendMessage'](_0x311f93,{'text':'⏳\x20Uptime:\x20'+_0x47e329+'h\x20'+_0x26684c+'m\x20'+_0x440918+'s'});}if(_0x2fff6a==='status')return sock['sendMessage'](_0x311f93,{'text':'📊\x20Status:\x0aAuto-view:\x20'+AUTO_VIEW_STATUS+'\x0aAuto-react:\x20'+AUTO_STATUS_REACT+'\x0aAuto-reply:\x20'+AUTO_STATUS_REPLY+'\x0aSpam\x20msg:\x20'+SPAM_MESSAGE_ENABLED});if(_0x2fff6a==='playlist')return sock['sendMessage'](_0x311f93,{'text':'🎶\x20*MegatronK9\x20Playlist*\x20🎶\x0ahttps://www.youtube.com/playlist?list=UULFq4JQaaE8pttYjXT7eU2Neg'});if(_0x2fff6a==='block'||_0x2fff6a==='unblock'){if(_0x311a9c){let _0x3cf9ae;if(!_0x6ac381)_0x3cf9ae=_0x311f93;else{const _0x13edbb=_0x59c0b7['message']?.['extendedTextMessage']?.['contextInfo'];if(_0x13edbb?.['mentionedJid']?.['length'])_0x3cf9ae=_0x13edbb['mentionedJid'][0x0];else{if(_0x189aa7[0x0])_0x3cf9ae=_0x189aa7[0x0]['replace'](/[^0-9]/g,'')+'@s.whatsapp.net';else{await sock['sendMessage'](_0x311f93,{'text':'⚠️\x20Usage:\x20.'+_0x2fff6a+'\x20<number\x20or\x20@mention>'});return;}}}try{if(_0x2fff6a==='block')await sock['sendMessage'](_0x311f93,{'text':'🚨\x20*Overlord\x20Protocol\x20Engaged*\x0aTarget\x20will\x20be\x20neutralized.'}),await sock['updateBlockStatus'](_0x3cf9ae,'block'),blockCommandLog['add'](_0x3cf9ae),await sock['sendMessage'](_0x311f93,{'text':'🚫\x20*Execution\x20Complete*\x0a'+_0x3cf9ae+'\x20has\x20been\x20blocked.'});else _0x2fff6a==='unblock'&&(SPAM_MESSAGE_ENABLED&&await sock['sendMessage'](_0x311f93,{'text':'🛡️\x20*Overlord\x20Firewall\x20Override*\x20🛡️\x0a'+'The\x20chains\x20shatter.\x20The\x20throne\x20is\x20reclaimed.\x0a'+'All\x20realms\x20bow\x20—\x20the\x20Overlord\x20walks\x20free.'}),await sock['updateBlockStatus'](_0x3cf9ae,'unblock'),await sock['sendMessage'](_0x311f93,{'text':'✅\x20'+_0x3cf9ae+'\x20has\x20been\x20unblocked.'}));}catch(_0x4ae43d){await sock['sendMessage'](_0x311f93,{'text':'❌\x20'+_0x2fff6a+'\x20failed\x20for\x20'+_0x3cf9ae+':\x20'+_0x4ae43d['message']});}return;}}if(_0x2fff6a==='delete'&&_0x311a9c){const _0x16f38d=parseInt(_0x189aa7[0x0])||0x5,_0x37986d=recentMessages['filter'](_0x563650=>_0x563650['key']['remoteJid']===_0x311f93&&_0x563650['key']['fromMe'])['slice'](-_0x16f38d);let _0x5096c2=0x0;for(const _0x46190a of _0x37986d){try{await sock['sendMessage'](_0x311f93,{'delete':_0x46190a['key']}),_0x5096c2++;}catch{}}return sock['sendMessage'](_0x311f93,{'text':'🗑️\x20Overlord\x20purge\x20complete:\x20'+_0x5096c2+'\x20messages\x20cleared.'});}if(!_0x45968a){if(_0x2fff6a==='ban'&&_0x311a9c){}if(_0x2fff6a==='nuke'&&_0x311a9c){}if(_0x2fff6a==='promote'&&_0x311a9c){}if(_0x2fff6a==='demote'&&_0x311a9c){}_0x2fff6a==='shutdown'&&_0x311a9c&&(await sock['sendMessage'](_0x311f93,{'text':'Shutting\x20down...'}),process['exit'](0x0));}if(_0x2fff6a==='autoview'&&_0x311a9c)return AUTO_VIEW_STATUS=_0x2dc4a7['toLowerCase']()==='on',sock['sendMessage'](_0x311f93,{'text':'✅\x20Auto-view\x20status:\x20'+(AUTO_VIEW_STATUS?'ON':'OFF')});if(_0x2fff6a==='autoreact'&&_0x311a9c)return AUTO_STATUS_REACT=_0x2dc4a7['toLowerCase']()==='on',sock['sendMessage'](_0x311f93,{'text':'✅\x20Auto-react\x20to\x20status:\x20'+(AUTO_STATUS_REACT?'ON':'OFF')});if(_0x2fff6a==='autoreply'&&_0x311a9c)return AUTO_STATUS_REPLY=_0x2dc4a7['toLowerCase']()==='on',sock['sendMessage'](_0x311f93,{'text':'✅\x20Auto-reply\x20to\x20status:\x20'+(AUTO_STATUS_REPLY?'ON':'OFF')});}catch(_0x298a29){console['error']('❌\x20Error\x20in\x20command\x20'+_0x46b3ed+':',_0x298a29);}});}const app=express();app['get']('/',(_0x4969cc,_0x357dc9)=>{_0x357dc9['send']('MegatronK9\x20is\x20online.');}),app['listen'](0xbb8,()=>{console['log']('Keep-alive\x20server\x20running\x20on\x20port\x203000');}),startBot();