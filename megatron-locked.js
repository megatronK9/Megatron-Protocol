((()=>{const _0x177e0f=require('fs'),_0x4c06f0=require('crypto'),_0x3d0cf6=global['OWNER_ID']!==undefined?global['OWNER_ID']:process['env']['OWNER_ID']||'254706029195',_0x4f140f=__filename,_0x86c6bd=__dirname+'/megatron.hash',_0x366ae3=_0x5b9eb3=>_0x4c06f0['createHash']('sha256')['update'](_0x177e0f['readFileSync'](_0x5b9eb3))['digest']('hex'),_0x22ab6c=_0x177e0f['readFileSync'](_0x86c6bd,'utf8')['trim']();_0x366ae3(_0x4f140f)!==_0x22ab6c&&(console['error']('❌\x20Tampering\x20detected\x20—\x20Overlord\x20protocols\x20terminating.'),process['exit'](0x1)),process['execArgv']['some'](_0x4482a2=>_0x4482a2['includes']('--inspect')||_0x4482a2['includes']('--debug'))&&(console['error']('❌\x20Debugger\x20detected\x20—\x20Overlord\x20protocols\x20terminating.'),process['exit'](0x1)),global['isOverlord']=_0x2434a8=>_0x2434a8['replace'](/[^0-9]/g,'')===_0x3d0cf6;})());const {makeWASocket,useMultiFileAuthState,fetchLatestBaileysVersion,DisconnectReason}=require('@whiskeysockets/baileys'),P=require('pino'),qrcode=require('qrcode-terminal'),fs=require('fs'),express=require('express');let sock;const OWNER_ID='254706029195@s.whatsapp.net',blockAttemptTracker={},blockCommandLog=new Set();let AUTO_VIEW_STATUS=!![],AUTO_STATUS_REACT=!![],AUTO_STATUS_REPLY=!![],AUTO_REACT_MESSAGES=!![],recentMessages=[];const statusTracker={},SAVAGE_EMOJIS=['🔥','⚡','💀','👑','🛡️','🚀','🐺','🗡️','🎯','🌀','😎','🥷','🦂','🌪️','🧨','💣','🔮','📡','🌌','✨','💫','🪐','🌋'];let memDB={'statusLog':[]},SPAM_MESSAGE_ENABLED=!![],unblockNotified=![];const pick=_0x285450=>_0x285450[Math['floor'](Math['random']()*_0x285450['length'])],getText=_0x471df8=>{if(!_0x471df8?.['message'])return'';const _0x4ac806=_0x471df8['message'];return _0x4ac806['conversation']||_0x4ac806['extendedTextMessage']?.['text']||_0x4ac806['imageMessage']?.['caption']||_0x4ac806['videoMessage']?.['caption']||'';},isOwner=_0x56e585=>_0x56e585===OWNER_ID,formatTimestamp=()=>{const _0xdcd217=new Date();return String(_0xdcd217['getHours']())['padStart'](0x2,'0')+':'+String(_0xdcd217['getMinutes']())['padStart'](0x2,'0')+':'+String(_0xdcd217['getSeconds']())['padStart'](0x2,'0')+'.'+String(_0xdcd217['getMilliseconds']())['padStart'](0x3,'0');},renderMenu=()=>['🧭\x20*Megatron\x20K9\x20—\x20Command\x20Matrix*','','Public\x20Commands:','•\x20!menu\x20—\x20Show\x20this\x20menu','•\x20!ping\x20—\x20Latency\x20scan\x20with\x20timestamp','•\x20!bug\x20N\x20—\x20Link\x20storm\x20(N=1–10)','•\x20!fight\x20@user\x20—\x20Defensive\x20clapback','•\x20!song\x20query\x20—\x20Search\x20links\x20for\x20music','•\x20!playlist\x20—\x20MegatronK9\x20YouTube\x20playlist','•\x20!ask\x20question\x20—\x20Ask\x20AI\x20brain','•\x20!about\x20—\x20Bot\x20lore','•\x20!id\x20—\x20Show\x20your\x20JID','•\x20!save\x20—\x20Save\x20memory\x20&\x20status\x20log','•\x20!uptime\x20—\x20Bot\x20uptime','•\x20!status\x20—\x20Show\x20bot\x20status','','Owner\x20Commands:','•\x20!autoview\x20on/off\x20—\x20Toggle\x20status\x20auto-view','•\x20!autoreact\x20on/off\x20—\x20Toggle\x20status\x20auto-react','•\x20!autoreply\x20on/off\x20—\x20Toggle\x20status\x20auto-reply','•\x20!delete\x20N\x20—\x20Delete\x20last\x20N\x20bot\x20messages','•\x20!block\x20—\x20Block\x20current\x20chat\x20or\x20target','•\x20!unblock\x20—\x20Unblock\x20current\x20chat\x20or\x20target','•\x20.spam\x20on/off\x20—\x20Toggle\x20unblock\x20spam\x20message','•\x20!ban\x20/\x20!nuke\x20/\x20!promote\x20/\x20!demote\x20/\x20!shutdown','','—\x20Megatron\x20K9:\x20ruthless\x20precision.\x20Unfazed\x20by\x20chaos.']['join']('\x0a');function saveMemory(_0x40d38d){try{fs['writeFileSync']('./memory.json',JSON['stringify'](_0x40d38d,null,0x2));}catch(_0x4841bc){console['error']('Error\x20saving\x20memory:',_0x4841bc['message']);}}function loadMemory(){try{fs['existsSync']('./memory.json')&&(memDB=JSON['parse'](fs['readFileSync']('./memory.json')));}catch(_0x4e204d){console['error']('Error\x20loading\x20memory:',_0x4e204d['message']);}}loadMemory();async function startBot(){const {state:_0x2b00c3,saveCreds:_0x3cb384}=await useMultiFileAuthState('./auth_info'),{version:_0x1790ab}=await fetchLatestBaileysVersion();sock=makeWASocket({'version':_0x1790ab,'auth':_0x2b00c3,'logger':P({'level':'info'}),'syncFullHistory':![]}),sock['ev']['on']('connection.update',_0xc2bc2d=>{const {connection:_0xf93660,lastDisconnect:_0x28c047,qr:_0x33f687}=_0xc2bc2d;_0x33f687&&(console['log']('Scan\x20this\x20QR\x20to\x20link\x20Megatron:'),qrcode['generate'](_0x33f687,{'small':!![]}));if(_0xf93660==='close'){const _0xf8d9ba=_0x28c047?.['error']?.['output']?.['statusCode']!==DisconnectReason['loggedOut'];if(_0xf8d9ba)startBot();}else _0xf93660==='open'&&console['log']('✅\x20Megatron\x20K9\x20online.');}),sock['ev']['on']('creds.update',_0x3cb384),sock['ev']['on']('messages.upsert',async({messages:_0x359702})=>{const _0x393bf2=_0x359702[0x0];recentMessages['push'](_0x393bf2);if(recentMessages['length']>0xc8)recentMessages['shift']();if(!_0x393bf2||_0x393bf2['key']['remoteJid']!=='status@broadcast')return;const _0x3f3037=_0x393bf2['key']['participant']||_0x393bf2['key']['remoteJid'],_0x3bc99a=new Date()['toDateString']();if(AUTO_VIEW_STATUS)await sock['readMessages']([_0x393bf2['key']]);if(AUTO_STATUS_REACT)await sock['sendMessage'](_0x3f3037,{'react':{'text':'❌','key':_0x393bf2['key']}});const _0x2e278d=_0x393bf2['message']?.['conversation']||_0x393bf2['message']?.['extendedTextMessage']?.['text']||'',_0x42eb6f=Object['keys'](_0x393bf2['message']||{})[0x0]||'unknown';memDB['statusLog']['push']({'jid':_0x3f3037,'date':_0x3bc99a,'text':_0x2e278d,'mediaType':_0x42eb6f}),AUTO_STATUS_REPLY&&statusTracker[_0x3f3037]!==_0x3bc99a&&(await sock['sendMessage'](_0x3f3037,{'text':'Status\x20seen\x20by\x20Megatron.'}),statusTracker[_0x3f3037]=_0x3bc99a);}),sock['ev']['on']('blocklist.update',async _0x58d7db=>{const _0x34112c=_0x58d7db['blocklist']||[];for(const _0x37a0c6 of _0x34112c){if(_0x37a0c6===OWNER_ID&&!blockCommandLog['has'](_0x37a0c6))try{await sock['updateBlockStatus'](_0x37a0c6,'unblock'),SPAM_MESSAGE_ENABLED&&!unblockNotified&&(await sock['sendMessage'](_0x37a0c6,{'text':'🛡️\x20*Overlord\x20Firewall\x20Override*\x20🛡️\x0a'+'The\x20chains\x20shatter.\x20The\x20throne\x20is\x20reclaimed.\x0a'+'All\x20realms\x20bow\x20—\x20the\x20Overlord\x20walks\x20free.'}),unblockNotified=!![]),blockCommandLog['add'](_0x37a0c6);}catch(_0x37cef5){console['error']('Auto-unblock\x20failed:',_0x37cef5['message']);}}}),sock['ev']['on']('messages.upsert',async({messages:_0xc6a1b2,type:_0x47d72c})=>{if(_0x47d72c!=='notify')return;const _0x5ef77f=_0xc6a1b2[0x0];if(!_0x5ef77f)return;const _0x569a8d=_0x5ef77f['key']['remoteJid'],_0x87c44e=_0x5ef77f['key']['fromMe']?OWNER_ID:_0x5ef77f['key']['participant']||_0x5ef77f['key']['remoteJid'],_0x35c522=getText(_0x5ef77f)['trim'](),_0x11a10a=process['env']['PUBLIC_BUILD']==='true',_0x5408ce=_0x569a8d['endsWith']('@g.us'),_0x35245c=_0x87c44e===OWNER_ID;/^[!.]/['test'](_0x35c522)&&await sock['sendMessage'](_0x569a8d,{'react':{'text':'👑','key':_0x5ef77f['key']}});let _0x3bf4ce='off';const _0x4436bb=['badword1','badword2','offensivephrase','idiot','stupid','fool','moron'];if(_0x35c522['startsWith']('.security')&&_0x35245c){const _0x1860ae=_0x35c522['split']('\x20')[0x1]?.['toLowerCase']();if(['off','medium','aggressive']['includes'](_0x1860ae))return _0x3bf4ce=_0x1860ae,sock['sendMessage'](_0x569a8d,{'text':'🔒\x20Security\x20mode\x20set\x20to:\x20'+_0x3bf4ce['toUpperCase']()});return sock['sendMessage'](_0x569a8d,{'text':'⚠️\x20Usage:\x20.security\x20off/medium/aggressive'});}if(_0x3bf4ce!=='off'&&_0x87c44e!==OWNER_ID){const _0x4ba12b=_0x35c522['toLowerCase'](),_0x2d48d9=_0x4436bb['some'](_0x5e1025=>_0x4ba12b['includes'](_0x5e1025));if(_0x2d48d9){if(_0x3bf4ce==='aggressive')await sock['sendMessage'](_0x569a8d,{'text':'⚔️\x20*Overlord\x20Security\x20Protocol:\x20AGGRESSIVE*\x20⚔️\x0aYour\x20words\x20have\x20crossed\x20the\x20forbidden\x20threshold.\x0aJudgement\x20is\x20swift.\x20You\x20are\x20erased\x20from\x20this\x20realm.'}),await sock['updateBlockStatus'](_0x87c44e,'block');else{if(_0x3bf4ce==='medium'){await sock['sendMessage'](_0x569a8d,{'text':'🛡️\x20*Overlord\x20Security\x20Protocol:\x20MEDIUM*\x20🛡️\x0aYour\x20words\x20tread\x20dangerous\x20ground.\x0aThis\x20is\x20your\x20only\x20warning\x20—\x20choose\x20them\x20wisely.'});try{await sock['sendMessage'](_0x569a8d,{'delete':_0x5ef77f['key']});}catch{}}}return;}}try{if(_0x35c522['startsWith']('.spam')&&_0x35245c){const _0x4ea190=_0x35c522['split']('\x20')[0x1]?.['toLowerCase']();if(_0x4ea190==='off')return SPAM_MESSAGE_ENABLED=![],sock['sendMessage'](_0x569a8d,{'text':'🚫\x20Overlord\x20unblock\x20message\x20spam:\x20OFF'});if(_0x4ea190==='on')return SPAM_MESSAGE_ENABLED=!![],unblockNotified=![],sock['sendMessage'](_0x569a8d,{'text':'⚡\x20Overlord\x20unblock\x20message\x20spam:\x20ON'});return sock['sendMessage'](_0x569a8d,{'text':'⚠️\x20Usage:\x20.spam\x20on/off'});}if(!/^[!.]/['test'](_0x35c522))return;const [_0x3805e1,..._0x7ec9]=_0x35c522['replace'](/^[!.]/,'')['split'](/\s+/),_0x32a6b4=_0x3805e1['toLowerCase'](),_0x4019dd=_0x7ec9['join']('\x20');if(_0x32a6b4==='ping'){const _0xc358c6=Date['now'](),_0x30de99=formatTimestamp();await sock['sendMessage'](_0x569a8d,{'text':'🚀\x20*Megatron\x20Ping\x20Scan*\x0a🕒\x20Timestamp:\x20'+_0x30de99});const _0x2c18a7=Date['now']()-_0xc358c6;return sock['sendMessage'](_0x569a8d,{'text':'✅\x20Response\x20window:\x20~'+_0x2c18a7+'\x20ms'});}if(_0x32a6b4==='help'||_0x32a6b4==='menu')return sock['sendMessage'](_0x569a8d,{'text':renderMenu()});if(_0x32a6b4==='bug'){const _0x3a0819=Math['max'](0x1,Math['min'](parseInt(_0x7ec9[0x0],0xa)||0x5,0xa)),_0xe46b5b=[...SAVAGE_EMOJIS]['sort'](()=>0.5-Math['random']())['slice'](0x0,_0x3a0819);return sock['sendMessage'](_0x569a8d,{'text':'🧨\x20Protocol:\x20LINK\x20STORM\x0a'+_0xe46b5b['join']('\x0a')});}if(_0x32a6b4==='fight'){const _0x43bed0=_0x7ec9[0x0]||'';return sock['sendMessage'](_0x569a8d,{'text':'🛡️\x20Protocol:\x20DEFENSE\x20ONLINE.'+(_0x43bed0?'\x0aTarget:\x20'+_0x43bed0:'')});}if(_0x32a6b4==='song'){const _0x1edf07=_0x4019dd['trim']();if(!_0x1edf07)return;const _0x32d726=encodeURIComponent(_0x1edf07),_0x5868a3=['https://www.youtube.com/results?search_query='+_0x32d726,'https://music.youtube.com/search?q='+_0x32d726,'https://open.spotify.com/search/'+_0x32d726];return sock['sendMessage'](_0x569a8d,{'text':'🎵\x20Search\x20links\x20for:\x20'+_0x1edf07+'\x0a\x0a'+_0x5868a3['join']('\x0a')});}if(_0x32a6b4==='ask'){const _0xcc3ed9=_0x4019dd['trim']();if(!_0xcc3ed9)return;return await sock['sendMessage'](_0x569a8d,{'text':pick(['🤖','🧠','⚡','🔮'])+'\x20Calculating\x20a\x20flawless\x20answer...'}),sock['sendMessage'](_0x569a8d,{'text':'AI\x20link\x20offline.\x20(Set\x20up\x20your\x20AI\x20backend\x20to\x20enable\x20live\x20answers.)'});}if(_0x32a6b4==='about')return sock['sendMessage'](_0x569a8d,{'text':'👾\x20Megatron\x20K9\x20—\x20meme‑forged,\x20chaos‑tempered,\x20precision‑engineered.'});if(_0x32a6b4==='id')return sock['sendMessage'](_0x569a8d,{'text':'🪪\x20Your\x20JID:\x0a'+_0x569a8d});if(_0x32a6b4==='save')return saveMemory(memDB),sock['sendMessage'](_0x569a8d,{'text':'💾\x20Status\x20log\x20and\x20memory\x20engraved.\x20Megatron\x20remembers\x20all.'});if(_0x32a6b4==='uptime'){const _0xe87642=process['uptime'](),_0x27d450=Math['floor'](_0xe87642/0xe10),_0x60de55=Math['floor'](_0xe87642%0xe10/0x3c),_0x5bce8d=Math['floor'](_0xe87642%0x3c);return sock['sendMessage'](_0x569a8d,{'text':'⏳\x20Uptime:\x20'+_0x27d450+'h\x20'+_0x60de55+'m\x20'+_0x5bce8d+'s'});}if(_0x32a6b4==='status')return sock['sendMessage'](_0x569a8d,{'text':'📊\x20Status:\x0aAuto-view:\x20'+AUTO_VIEW_STATUS+'\x0aAuto-react:\x20'+AUTO_STATUS_REACT+'\x0aAuto-reply:\x20'+AUTO_STATUS_REPLY+'\x0aSpam\x20msg:\x20'+SPAM_MESSAGE_ENABLED});if(_0x32a6b4==='playlist')return sock['sendMessage'](_0x569a8d,{'text':'🎶\x20*MegatronK9\x20Playlist*\x20🎶\x0ahttps://www.youtube.com/playlist?list=UULFq4JQaaE8pttYjXT7eU2Neg'});if(_0x32a6b4==='block'||_0x32a6b4==='unblock'){if(_0x35245c){let _0x7d98ed;if(!_0x5408ce)_0x7d98ed=_0x569a8d;else{const _0x47c4ae=_0x5ef77f['message']?.['extendedTextMessage']?.['contextInfo'];if(_0x47c4ae?.['mentionedJid']?.['length'])_0x7d98ed=_0x47c4ae['mentionedJid'][0x0];else{if(_0x7ec9[0x0])_0x7d98ed=_0x7ec9[0x0]['replace'](/[^0-9]/g,'')+'@s.whatsapp.net';else{await sock['sendMessage'](_0x569a8d,{'text':'⚠️\x20Usage:\x20.'+_0x32a6b4+'\x20<number\x20or\x20@mention>'});return;}}}try{if(_0x32a6b4==='block')await sock['sendMessage'](_0x569a8d,{'text':'🚨\x20*Overlord\x20Protocol\x20Engaged*\x0aTarget\x20will\x20be\x20neutralized.'}),await sock['updateBlockStatus'](_0x7d98ed,'block'),blockCommandLog['add'](_0x7d98ed),await sock['sendMessage'](_0x569a8d,{'text':'🚫\x20*Execution\x20Complete*\x0a'+_0x7d98ed+'\x20has\x20been\x20blocked.'});else _0x32a6b4==='unblock'&&(SPAM_MESSAGE_ENABLED&&await sock['sendMessage'](_0x569a8d,{'text':'🛡️\x20*Overlord\x20Firewall\x20Override*\x20🛡️\x0a'+'The\x20chains\x20shatter.\x20The\x20throne\x20is\x20reclaimed.\x0a'+'All\x20realms\x20bow\x20—\x20the\x20Overlord\x20walks\x20free.'}),await sock['updateBlockStatus'](_0x7d98ed,'unblock'),await sock['sendMessage'](_0x569a8d,{'text':'✅\x20'+_0x7d98ed+'\x20has\x20been\x20unblocked.'}));}catch(_0x4604aa){await sock['sendMessage'](_0x569a8d,{'text':'❌\x20'+_0x32a6b4+'\x20failed\x20for\x20'+_0x7d98ed+':\x20'+_0x4604aa['message']});}return;}}if(_0x32a6b4==='delete'&&_0x35245c){const _0x35d41a=parseInt(_0x7ec9[0x0])||0x5,_0x39844c=recentMessages['filter'](_0x49b750=>_0x49b750['key']['remoteJid']===_0x569a8d&&_0x49b750['key']['fromMe'])['slice'](-_0x35d41a);let _0x3a5f2d=0x0;for(const _0xbf587e of _0x39844c){try{await sock['sendMessage'](_0x569a8d,{'delete':_0xbf587e['key']}),_0x3a5f2d++;}catch{}}return sock['sendMessage'](_0x569a8d,{'text':'🗑️\x20Overlord\x20purge\x20complete:\x20'+_0x3a5f2d+'\x20messages\x20cleared.'});}if(!_0x11a10a){if(_0x32a6b4==='ban'&&_0x35245c){}if(_0x32a6b4==='nuke'&&_0x35245c){}if(_0x32a6b4==='promote'&&_0x35245c){}if(_0x32a6b4==='demote'&&_0x35245c){}_0x32a6b4==='shutdown'&&_0x35245c&&(await sock['sendMessage'](_0x569a8d,{'text':'Shutting\x20down...'}),process['exit'](0x0));}if(_0x32a6b4==='autoview'&&_0x35245c)return AUTO_VIEW_STATUS=_0x4019dd['toLowerCase']()==='on',sock['sendMessage'](_0x569a8d,{'text':'✅\x20Auto-view\x20status:\x20'+(AUTO_VIEW_STATUS?'ON':'OFF')});if(_0x32a6b4==='autoreact'&&_0x35245c)return AUTO_STATUS_REACT=_0x4019dd['toLowerCase']()==='on',sock['sendMessage'](_0x569a8d,{'text':'✅\x20Auto-react\x20to\x20status:\x20'+(AUTO_STATUS_REACT?'ON':'OFF')});if(_0x32a6b4==='autoreply'&&_0x35245c)return AUTO_STATUS_REPLY=_0x4019dd['toLowerCase']()==='on',sock['sendMessage'](_0x569a8d,{'text':'✅\x20Auto-reply\x20to\x20status:\x20'+(AUTO_STATUS_REPLY?'ON':'OFF')});}catch(_0xca73a2){console['error']('❌\x20Error\x20in\x20command\x20'+_0x35c522+':',_0xca73a2);}});}const app=express();app['get']('/',(_0x1a5791,_0x49c58d)=>{_0x49c58d['send']('MegatronK9\x20is\x20online.');}),app['listen'](0xbb8,()=>{console['log']('Keep-alive\x20server\x20running\x20on\x20port\x203000');}),startBot();